<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unser Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #ffe6e6;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
        }
        .container {
            max-width: 90%;
            width: 90%; max-width: 600px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: scale(0.9);
            animation: fadeIn 0.5s forwards;
        }
        img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        button {
            margin-top: 10px;
            padding: 10px;
            width: 100%;
            font-size: 16px;
            display: block;
            box-sizing: border-box;
            cursor: pointer;
        }
        .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            gap: 10px;
        }
        .hidden {
            display: none;
        }
        .message {
            color: red;
            font-weight: bold;
            font-size: 18px;
            margin-top: 10px;
            transition: opacity 0.5s;
        }
        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        .correct {
            color: green;
        }
        #progress-bar {
            width: 100%;
            background: #ddd;
            height: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        #progress {
            height: 100%;
            width: 0%;
            background: #4caf50;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container" id="start-screen">
        <h2>Unser Valentins-Quiz</h2>
        <p>Ein kleines Quiz Ã¼ber uns! Bist du bereit?</p>
        <button onclick="startQuiz()">Quiz starten</button>
    </div>
    <div class="container hidden" id="quiz-container">
        <div id="progress-bar">
            <div id="progress"></div>
        </div>
        <p id="question" style="font-size: 24px; font-weight: bold;"></p>
        <img id="question-image" src="" alt="Fragenbild" class="hidden">
        <div class="button-container" id="answer-buttons">
            <!-- Antwort-Buttons werden hier dynamisch eingefÃ¼gt -->
        </div>
        <p class="message" id="message"></p>
    </div>
    <div class="container hidden" id="final-message">
        <h3>Herzlichen GlÃ¼ckwunsch! ðŸŽ‰</h3>
        <p>Super Schatz, du hast es geschafft. Du hast das Quiz mit allen Fragen korrekt beantwortet.</p>
        <p>Ich wollte dir damit nochmal zeigen, dass du mir besonders wichtig bist und ich dich Ã¼ber alles liebe. Du bist meine absolute Traumfrau und der perfekte Partner an meiner Seite. Danke fÃ¼r alles, was du tust und was du gibst.</p>
        <p>Ich liebe dich und habe mir eine Kleinigkeit erlaubt. Schau hier:</p>
        <a href="https://youtube.com/shorts/SRQJp904mjE" target="_blank">Hier ist eine kleine Ãœberraschung fÃ¼r dich</a>
    </div>

    <script>
        const questions = [
            {
                q: "Wo haben wir uns kennengelernt?",
                a: ["Prater"]
            },
            {
                q: "WeiÃŸt du auch noch in welcher Halle?",
                a: ["Swing"],
                image: "https://www.prater.de/projects/193/files/userfiles/img/mod_media2/202202241425_d92d7.jpg"
            },
            {
                q: "oder was du bestellt hast?",
                a: ["Meine Nummer ;-)"],
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQQOfZ9PeEnc-xBVpsS7g8k9ZnnFddnogMRXQ&s"
            },
            {
                q: "Was haben wir damals beinahe wÃ¶chentlich gemacht?",
                a: ["Kino"],
                choices: ["Sport", "Kino"]
            },
            {
                q: "Unser erster gemeinsamer All-inklusive Urlaub ging wohin?",
                a: ["TÃ¼rkei"]
            },
            {
                q: "â€¦wofÃ¼r haben wir damals einen Haufen Geld ausgegeben?",
                a: ["Fotos"],
                choices: ["GefÃ¤lschte Trikots", "Fotos", "Schmuck"]
            },
            {
                q: "Mit welchem Auto habe ich dich damals von meinen FahrkÃ¼nsten Ã¼berzeugen kÃ¶nnen?",
                a: ["Opel Corsa"],
                choices: ["Opel Corsa", "VW Golf", "Ford Fiesta"]
            },
            {
                q: "und wogegen bin ich immer gefahren? (mach ich immer so!)",
                a: ["PÃ¶ller"],
                choices: ["Andere Autos", "GrÃ¼nenwÃ¤hler", "PÃ¶ller"]
            },
            {
                q: "In welchem Jahr haben wir wieder zueinander gefunden?",
                a: ["2017"]
            },
            {
                q: "Wer hat uns dann auf unseren ersten Spaziergang in 2017 begleitet?",
                a: ["BÃ¤rbel"],
                choices: ["Deine Mutter", "BÃ¤rbel", "Lucky"]
            },
            {
                q: "Wo war das?",
                a: ["Zandvoort"],
                image: "zandvoort.JPG",
                choices: ["Amsterdam", "Thale", "Zandvoort"]
            },
            {
                q: "...oder das?",
                a: ["Thale"],
                image: "thale.JPG",
                choices: ["Oostkapelle", "Thale", "Zandvoort"]
            },
            {
                q: "Hausnummer unserer ersten, gemeinsamen Wohnung?",
                a: ["34"]
            },
            {
                q: "Was ist die lÃ¤ngste Strecke, die wir mal zusammen an einem Tag mit dem Fahrrad gefahen sind? (in km)",
                a: ["28"]
            },
            {
                q: "Wann habe ich dich gefragt, ob du meine Frau werden willst? (Jahr)",
                a: ["2017"]
            },
            {
                q: "Wann genau haben wir erfahren, dass wir mit Matilda schwanger sind? (Datum)",
                a: ["31.07.2020"],
                image: "matilda.jpg"
            },
            {
                q: "Wie viel Gramm hat unser Farmer an Tag 0 gewogen?",
                a: ["3520"]
            },
            {
                q: "Bitte ersetzen: Lisa, du bist der Mensch in meinem Leben, der mein (xxxx) in einem Moment schneller und im nÃ¤chsten Moment langsamer schlagen lÃ¤sst",
                a: ["Herz"]
            },
            {
                q: "...und warum liebe ich dich wohl so sehr?",
                a: []
            }
        ];
        
        let currentQuestion = 0;
        let attempts = 0;

        function startQuiz() {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('quiz-container').classList.remove('hidden');
            displayQuestion();
        }
        
        function displayQuestion() {
            if (currentQuestion >= questions.length) {
                showFinalMessage();
                return;
            }
            const question = questions[currentQuestion];
            document.getElementById("question").innerText = question.q;
            document.getElementById("message").innerText = "";

            // Bild anzeigen, falls vorhanden
            const imageElement = document.getElementById("question-image");
            if (question.image) {
                imageElement.src = question.image;
                imageElement.classList.remove("hidden");
            } else {
                imageElement.classList.add("hidden");
            }

            // Antwort-Buttons anzeigen
            const answerButtons = document.getElementById("answer-buttons");
            answerButtons.innerHTML = ""; // Vorherige Buttons lÃ¶schen

            if (question.choices) {
                question.choices.forEach(choice => {
                    const button = document.createElement("button");
                    button.innerText = choice;
                    button.onclick = () => checkAnswer(choice);
                    answerButtons.appendChild(button);
                });
            } else {
                // Fallback fÃ¼r offene Fragen
                const input = document.createElement("input");
                input.type = "text";
                input.id = "answer";
                input.placeholder = "Deine Antwort...";
                input.onkeypress = handleKeyPress;
                answerButtons.appendChild(input);
            }

            // Fortschrittsbalken aktualisieren
            document.getElementById("progress").style.width = `${((currentQuestion + 1) / questions.length) * 100}%`;
        }

        function checkAnswer(userAnswer) {
            const question = questions[currentQuestion];
            const correctAnswers = question.a;

            if (correctAnswers.length === 0 || correctAnswers.includes(userAnswer.toLowerCase().trim())) {
                document.getElementById("message").innerText = "Richtig! âœ…";
                document.getElementById("message").classList.add("correct");
                setTimeout(() => {
                    document.getElementById("message").innerText = "";
                    document.getElementById("message").classList.remove("correct");
                    currentQuestion++;
                    displayQuestion();
                }, 1500);
                attempts = 0;
            } else {
                attempts++;
                document.getElementById("message").innerText = attempts >= 3 ? `Die richtige Antwort ist: ${correctAnswers[0]}` : 'Falsche Antwort, versuche es noch einmal!';
            }
        }

        function showFinalMessage() {
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('final-message').classList.remove('hidden');
        }

        function handleKeyPress(event) {
            if (event.key === "Enter") {
                checkAnswer(document.getElementById("answer").value);
            }
        }
    </script>
</body>
</html>
